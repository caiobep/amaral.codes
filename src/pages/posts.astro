---
import Layout from '../layouts/Layout.astro'
import Typography from '../components/Typography.astro'
import Chip from '../components/Chip.astro'
import PostPreview from '../components/PostPreview.astro'

const posts = [
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "Tooling", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "Tooling" ], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
  { title: 'Post Name', tags: [ "NodeJS", "Productivity"], summary: `This is a short summary of the post, probably
  generated by AI because why not? AI seems cool and notion will probably autogenerate that for me now.` },
]

const tags = [
  { id: 'engineering', name: "Engineering", icon: 'ðŸ”§' },
  { id: 'productivity', name: "Productivity", icon: 'âœ…' },
  { id: 'tooling', name: "Tooling", icon: 'ðŸ’»' },
  { id: 'nodejs', name: "NodeJS", icon: ''}, 
]


---

<!-- <script client:only> -->
<!--   let selectedFilter = [] -->


<!--   function toggleFilter (event) { -->
<!--     const id = event.target.id -->
<!--     console.log('change') -->
<!--     console.log(id) -->

<!--     if (selectedFilter.includes(id)) { -->
<!--       selectedFilter = selectedFilter.filter(f => f !== id) -->
<!--     } else { -->
<!--       selectedFilter.push(id) -->
<!--     } -->

<!--     console.log(selectedFilter) -->
<!--   } -->

<!--   const filterChips = document.querySelectorAll('.chip') -->
<!--   filterChips.forEach(el => el.addEventListener('click', toggleFilter)) -->

<!--   const posts = document.querySelectorAll('.post') -->
<!--   posts.forEach(el => { -->
<!--     const tags = el.dataset.tags.split(',') -->
<!--     const shouldShow = tags.some(t => selectedFilter.includes(t)) -->
<!--     if (!shouldShow) { -->
<!--       el.classList.add('hidden') -->
<!--     } -->
<!--   }) -->
<!-- </script> -->

<Layout title="Caio's Posts" class="p-5 border border-blue-500 flex gap-10">

  <section class="pt-10">
    <Typography variant="h1">Welcome to my brain</Typography>
    <p class="text-gray-100">Here I share thoughts on entrepreneurship, engineering, finance and more</p>
  </section>


  <section class="flex gap-2 p-1 my-4">
    {tags.map(t => <Chip id={t.id} icon={t.icon}>{t.name}</Chip>)}
  </section>

  <section class="posts rounded-xl p-1 grid grid-cols-4 gap-4 w-[100%]">
    {posts.map(p => <PostPreview title={p.title} summary={p.summary} tags={p.tags} />)}
  </section>

</Layout>

